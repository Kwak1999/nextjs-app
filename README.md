# ğŸ”¹ í”„ë¡œì íŠ¸ ê°œìš”
2025.10.20 â€“ 2025.12.23 (ì•½ 8ì£¼)
í”„ë¡œì íŠ¸ ëª©ì /ë²”ìœ„: Next.js 15(App Router)ë¡œ ì¤‘ê³ ê±°ë˜ ì›¹ì„œë¹„ìŠ¤ë¥¼ êµ¬ì¶•í•˜ë©° ì¸ì¦,
ìƒí’ˆ ë“±ë¡Â·ì¡°íšŒ, ìœ„ì¹˜ ê¸°ë°˜ í•„í„°, ì¢‹ì•„ìš” ë“± ì‹¤ì œ ì„œë¹„ìŠ¤ íë¦„ì„ ì—°ìŠµí•˜ëŠ” ê°œì¸ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

ì£¼ìš” ìŠ¤íƒ: Next.js(ì„œë²„ ì»´í¬ë„ŒíŠ¸), React 19, TypeScript, Tailwind CSS, Prisma + PostgreSQL, NextAuth(JWT ê¸°ë°˜), SWR, React Hook Form, Cloudinary, Kakao Map API ë“±ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

---

## ğŸ”¹ ë°°ìš´ì 

- ì „ì²´ ìŠ¤íƒ ì²´í—˜: Next.js 15 App RouterÂ·React 19Â·TypeScriptÂ·Tailwindë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ, Prisma+PostgreSQL ë°±ì—”ë“œ, NextAuth ê¸°ë°˜ ì¸ì¦, SWR/React Hook Form ë“± ì‹¤ë¬´í˜• í’€ìŠ¤íƒ êµ¬ì„±ì„ í•œ ë²ˆì— ê²½í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì£¼ìš” ê¸°ëŠ¥ íë¦„: OAuth/ìê²© ì¦ëª… ë¡œê·¸ì¸, JWT ì„¸ì…˜, ì—­í•  ë¶„ë¦¬(Admin/User), ìƒí’ˆ ë“±ë¡Â·ì¡°íšŒ, Cloudinary ì—…ë¡œë“œ, ì¹´í…Œê³ ë¦¬/ìœ„ì¹˜ ì…ë ¥(Kakao Map), ì¢‹ì•„ìš”/ì‹¤ì‹œê°„ UI, í† ìŠ¤íŠ¸ UXê¹Œì§€ ì „í˜•ì ì¸ ì»¤ë¨¸ìŠ¤ í”Œë¡œìš°ë¥¼ í•™ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- í™˜ê²½ ì„¸íŒ… ë° ë„êµ¬ ì‚¬ìš©: Next.js ë¹Œë“œ/ì‹¤í–‰, Prisma ì´ˆê¸°í™”Â·db push, ì¸ì¦/í¼/ì§€ë„/ì—…ë¡œë“œìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ ë“± ë¡œì»¬ ê°œë°œ í™˜ê²½ êµ¬ì„± ê³¼ì •ì„ ëª…ë ¹ì–´ ë‹¨ìœ„ë¡œ ìµí ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ë²„ì „ í˜¸í™˜ì„± íŠ¸ëŸ¬ë¸”ìŠˆíŒ…: NextAuthì™€ Prisma ì–´ëŒ‘í„° ë²„ì „ ë¶ˆì¼ì¹˜ë¡œ ì¸í•œ JSON íŒŒì‹± ì˜¤ë¥˜ ì‚¬ë¡€ê°€ ê¸°ë¡ë¼ ìˆì–´, ì˜ì¡´ì„± ì¶©ëŒì„ ì§„ë‹¨Â·í•´ê²°í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
---

## ğŸ”¹ ì£¼ìš” ê¸°ëŠ¥

- NextAuth ê¸°ë°˜ ì¸ì¦/ì¸ê°€

- Google OAuth + Credentials ë¡œê·¸ì¸

- JWT ê¸°ë°˜ ì„¸ì…˜ ê´€ë¦¬

- Admin / User ê¶Œí•œ ë¶„ë¦¬ ë° ì ‘ê·¼ ì œì–´

- ìƒí’ˆ ë“±ë¡ ë° ì¡°íšŒ

- Cloudinary ì´ë¯¸ì§€ ì—…ë¡œë“œ

- ì¹´í…Œê³ ë¦¬ ì„ íƒ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

- Kakao Map APIë¥¼ í™œìš©í•œ ìœ„ì¹˜ ê¸°ë°˜ ìƒí’ˆ ë“±ë¡

- ì‚¬ìš©ì ì¸í„°ë™ì…˜

- ì¢‹ì•„ìš”(Favorite) ê¸°ëŠ¥ (POST/DELETE)

- ì‹¤ì‹œê°„ UI ë°˜ì˜ (router.refresh)

- Toast ì•Œë¦¼ UX ì ìš©
---

## ğŸ”¹ ê¸°ìˆ  ìŠ¤íƒ
| êµ¬ë¶„                 | ê¸°ìˆ                       | ì‚¬ìš© ëª©ì  / ì´ìœ                                       |
| ------------------ | ----------------------- | ----------------------------------------------- |
| **Frontend**       | Next.js 15 (App Router) | ì„œë²„ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ë°ì´í„° íŒ¨ì¹­ê³¼ ì„œë²„/í´ë¼ì´ì–¸íŠ¸ ì±…ì„ ë¶„ë¦¬ë¥¼ ìœ„í•´ ì‚¬ìš©        |
|                    | React 19                | ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ UI êµ¬ì„± ë° ì‚¬ìš©ì ì¸í„°ë™ì…˜ ì²˜ë¦¬                     |
|                    | TypeScript              | ì„œë²„ ì‘ë‹µ ë° ì»´í¬ë„ŒíŠ¸ propsì— íƒ€ì…ì„ ì ìš©í•´ ì•ˆì •ì„±ê³¼ ê°€ë…ì„± í™•ë³´         |
|                    | Tailwind CSS            | ë¹ ë¥¸ UI ê°œë°œê³¼ ê³µí†µ ìŠ¤íƒ€ì¼ ê´€ë¦¬ë¥¼ ìœ„í•´ ì‚¬ìš©                      |
| **Backend**        | Next.js Route Handler   | ìƒí’ˆ ë“±ë¡, ì¢‹ì•„ìš”, ì±„íŒ… ë©”ì‹œì§€ ì „ì†¡ ë“± ì‚¬ìš©ì ì´ë²¤íŠ¸ ì²˜ë¦¬              |
|                    | Prisma ORM              | PostgreSQLê³¼ì˜ íƒ€ì… ì•ˆì „í•œ ì¿¼ë¦¬ ë° ê´€ê³„í˜• ë°ì´í„° ëª¨ë¸ë§            |
|                    | PostgreSQL              | ì‚¬ìš©ì, ìƒí’ˆ, ì±„íŒ… ë°ì´í„° ì €ì¥                              |
| **Authentication** | NextAuth.js             | Google OAuth ë° Credentials ë¡œê·¸ì¸ êµ¬í˜„, JWT ê¸°ë°˜ ì„¸ì…˜ ê´€ë¦¬ |
|                    | Middleware              | ì¸ì¦ ì—¬ë¶€ì— ë”°ë¥¸ í˜ì´ì§€ ì ‘ê·¼ ì œì–´(ì¸ê°€)                         |
| **State / Data**   | SWR                     | ì±„íŒ… ê¸°ëŠ¥ì—ì„œ ì‹¤ì‹œê°„ì— ê°€ê¹Œìš´ ë°ì´í„° ë™ê¸°í™” ë° optimistic UI ì ìš©     |
|                    | React Hook Form         | ìƒí’ˆ ë“±ë¡ í¼ ìƒíƒœ ê´€ë¦¬ ë° ìœ íš¨ì„± ê²€ì‚¬                          |
| **External API**   | Cloudinary              | ìƒí’ˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° URL ê¸°ë°˜ ì´ë¯¸ì§€ ê´€ë¦¬                      |
|                    | Kakao Map API           | ìƒí’ˆ ë“±ë¡ ì‹œ ìœ„ì¹˜ ì„ íƒ ë° ìƒì„¸ í˜ì´ì§€ ì§€ë„ í‘œì‹œ                    |
| **Infra / Tools**  | Docker                  | PostgreSQL ë¡œì»¬ ê°œë°œ í™˜ê²½ êµ¬ì„±                          |
|                    | Axios                   | í´ë¼ì´ì–¸íŠ¸ â†” ì„œë²„ API í†µì‹                                |
|                    | Day.js                  | ë‚ ì§œ/ì‹œê°„ í¬ë§· ì²˜ë¦¬                                     |
|                    | Git / GitHub            | ì½”ë“œ ë²„ì „ ê´€ë¦¬ ë° í”„ë¡œì íŠ¸ ê´€ë¦¬                              |

--- 

## ê°€ì´ë“œ

```bash
# Next.js ì•± ìƒì„±
npx create-next-app@latest --typescript

# ë¹Œë“œ ë° ì‹¤í–‰
npm run build
npm run start

# Prisma ì„¤ì¹˜ ë° ì´ˆê¸°í™”
npm install -D prisma
npx prisma init

# ìŠ¤í‚¤ë§ˆ push
npx prisma db push

# NextAuth & Prisma ì—°ë™
npm install next-auth @prisma/client @next-auth/prisma-adapter

# React Hook Form
npm install react-hook-form


# React Icons
npm i react-icons

# axios
npm i axios

# bcryptjs
npm install bcryptjs

# next-cloudinary
npm install next-cloudinary

# kakao-maps-sdk
npm i react-kakao-maps-sdk

#toastify
npm i react-toastify

#dayjs
npm i dayjs

#pagination
npm i @lucasmogari/react-pagination

#query-string
npm i query-string

#swr
npm i swr
```

---

<details>
<summary>âš™ï¸ NextAuth + Prisma ë²„ì „ ì¶©ëŒ ì˜¤ë¥˜ í•´ê²° ê¸°ë¡</summary>

## âš ï¸ ì˜¤ë¥˜ ê°œìš”
NextAuth ì‹¤í–‰ ì¤‘ ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ ë°œìƒ:

```
[next-auth][error][CLIENT_FETCH_ERROR]
https://next-auth.js.org/errors#client_fetch_error

"Unexpected token '<', "<!DOCTYPE "... is not valid JSON"
```

â†’ **NextAuth í´ë¼ì´ì–¸íŠ¸ê°€ HTML ì‘ë‹µì„ ë°›ì•„ì„œ ë°œìƒí•œ ë¬¸ì œ**  
ì›ì¸ì€ **Prisma ë° Adapter ë²„ì „ ë¶ˆì¼ì¹˜**

---

## ğŸ” ì›ì¸ ë¶„ì„
1. `@auth/prisma-adapter`, `@next-auth/prisma-adapter`, `@prisma/client`, `prisma` ë²„ì „ ê°„ í˜¸í™˜ì„± ë¬¸ì œ
2. Adapterì™€ Prisma ë²„ì „ ì°¨ì´ë¡œ DB ì—°ê²° ì‹œ JSON íŒŒì‹± ì‹¤íŒ¨
3. í´ë¼ì´ì–¸íŠ¸ê°€ `< !DOCTYPE ...>` HTML ì‘ë‹µì„ ë°›ì•„ `"Unexpected token '<'"` ë°œìƒ

---

## ğŸ§¾ ìˆ˜ì • ì „ `package.json`

<details>
<summary>ìì„¸íˆ ë³´ê¸°</summary>

```json
{
  "dependencies": {
    "@auth/prisma-adapter": "^2.11.0",
    "@next-auth/prisma-adapter": "^1.0.7",
    "@prisma/client": "^4.16.2",
    "@prisma/extension-accelerate": "^2.0.2",
    "next": "15.5.6",
    "next-auth": "^4.22.1",
    "react": "19.1.0",
    "react-dom": "19.1.0"
  },
  "devDependencies": {
    "prisma": "^6.18.0",
    "typescript": "^5"
  }
}
```
</details>

---

## âœ… ìˆ˜ì • í›„ `package.json`

<details>
<summary>ìì„¸íˆ ë³´ê¸°</summary>

```json
{
  "dependencies": {
    "@auth/prisma-adapter": "^2.11.0",
    "@next-auth/prisma-adapter": "^1.0.6",
    "@prisma/client": "^4.13.0",
    "@prisma/extension-accelerate": "^2.0.2",
    "next": "15.5.6",
    "next-auth": "^4.22.1",
    "react": "19.1.0",
    "react-dom": "19.1.0"
  },
  "devDependencies": {
    "prisma": "^4.13.0",
    "typescript": "^5"
  }
}
```
</details>

---

### ğŸ”¸ ì£¼ìš” ë³€ê²½ì 
- `@next-auth/prisma-adapter` â†’ `^1.0.6`
- `@prisma/client` â†’ `^4.13.0`
- `prisma` â†’ `^4.13.0`

---

### ğŸ§  ì½”ë“œ ìˆ˜ì • ë‚´ìš©

`[...nextauth].ts`ì˜ Prisma import ê²½ë¡œ ìˆ˜ì •:

```diff
- import { PrismaClient } from "@prisma/client";
+ import { PrismaClient } from "@/generated/prisma";
```

(`schema.prisma`ì˜ `generator output`ì´ `./src/generated/prisma`ë¡œ ì„¤ì •ë˜ì–´ ìˆìŒ)

</details>
